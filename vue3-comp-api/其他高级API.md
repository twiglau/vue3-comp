# 认识 h 函数
* Vue 推荐在绝大多数情况下 `使用模板` 来创建你的HTML, 然后一些特殊的场景, 真的需要`JavaScript的完全编程的能力`, 这个时候可以使用 `渲染函数`, 它`比模板更接近编译器`;
- Vue在生成真实的DOM之前, 会将`我们的节点转换成VNode`, 而VNode组合在一起形成`一颗树结构`, 就是`虚拟DOM(DOM)`;
- 事实上, 我们之前编写的 template 中的HTML最终也是`使用渲染函数`生成VNode;
- 那么, 如果你想充分的利用JavaScript的编程能力, 我们可以自己来`编写createVNode函数`, 生成`对应的VNode`;

* 应该怎么做呢? `使用h()函数`;
- `h()函数`是一个用于`创建vnode的一个函数`;
- 其实更准确的命名是`createVNode()函数`, 但是为了简便在Vue将之`简化为h()函数`;

* h()函数 如何使用?
- 参数一: 
```
// {String | Object | Function } tag
// 一个 HTML 标签名, 一个组件, 一个异步组件, 或 一个函数式组件
```  
- 参数二:
```
// {Object} props
// 与 attribute, prop 和事件相对应的对象.
// 我们会在模板中使用.
```  
- 参数三:
```
// (String | Array | Object) children
// 子 VNodes, 使用 `h()` 构建,
// 或使用字符串获取 `文本 Vnode` 或者有插槽的对象.
```  

# jsx的babel配置
* 如果我们希望`在项目中使用jsx`, 那么我们`需要添加对jsx的支持`;
- jsx我们通常会`通过Babel来进行转换`(React编写的jsx就是通过babel转换的);
- 对于Vue来说, 我们只需要再`Babel中配置对应的插件`即可;

# 自定义指令

* 在Vue模板语法中我们学习过各种指令: v-show, v-for, v-model 等等, 除了使用这些指令之外, `Vue也允许我们来自定义自己的指令`;
- 注意: 在Vue中, `代码的复用和抽象主要还是通过组件`;
- 通常情况下, 你需要`对DOM元素进行底层操作`, 这个时候就会用到`自定义指令`;

* 自定义指令分为两种: 
- 自定义局部指令: 组件中通过 `directives选项`, 只能在当前组件中使用;
- 自定义全局指令: app的`directive方法`, 可以在任意组件中被使用;

# 指令的声明周期
* 一个指令定义的对象, Vue提供了如下的几个钩子函数:
- `created`: 在绑定元素的 attribute 或 事件监听器被应用之前调用;
> 做些初始化操作;
- `beforeMount`: 当指令第一次绑定到元素并且在挂载父组件之前调用;
- `mounted`: 在绑定元素的父组件被挂载后调用;
- `beforeUpdate`: 在更新包含组件的VNode之前调用;
- `updated`: 在包含组件的VNode`及其子组件的VNode`更新后调用;
- `beforeUnmount`: 在卸载绑定元素的父组件之前调用;
- `unmounted`: 当指令与元素解除解除绑定且父组件已卸载时, 只调用一次;

# 认识Teleport 
* 在组件开发中, 我们`封装一个组件A`, 在`另外一个组件B中使用`:
- 那么`组件A中template的元素`,会`被挂载到组件中template`的某个位置;
- 最终我们的应用程序会形成`一颗DOM树结构`;
* 但是某些情况下, 我们希望`组件不是挂载在这个组件树上`的, 可能是`移动到Vue app之外的其他位置`:
- 比如`移动到body元素`上, 或者我们`有其他的div#app之外的元素`上;
- 这个时候我们就可以`通过teleport来完成`;

* Teleport是什么呢?
- 它是一个`Vue提供的内置组件`, 类似于react的Portals;
- teleport 有两个属性:
> `to`: 指定将其中的内容移动到的目标元素, 可以使用选择器;
> `disabled`: 是否禁用 teleport 的功能;

# Vue插件
* 通常我们`向Vue全局添加一些功能`时, 会采用`插件的模式`, 它有两种编写方式:
- 对象类型: 一个`对象`, 但是必须包含一个`install的函数`, 该`函数会在安装插件时`执行;
- 函数类型: 一个`function`, 这个函数会在`安装插件时自动执行`;

* 插件可以`完成的功能没有限制`, 比如下面的几种都是可以:
- `添加全局方法或者property`, 通过把它们添加到`config.globalProperties`上实现;
- `添加全局资源`: `指令/过滤器/过渡`等;
- 通过`全局mixin`来添加`一些组件选项`;
- `一个库, 提供自己的API`, 同时`提供上面提到的一个或多个功能`;